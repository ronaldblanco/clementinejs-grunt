/*! clementinejs-fcc-pnald 27-07-2017 */

var appUrl=window.location.origin,ajaxFunctions={ready:function(e){if("function"==typeof e)return"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},ajaxRequest:function(e,n,t){"use strict";var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&t(a.response)},a.open(e,n,!0),a.send()}};!function(){"use strict";function e(e){if(null!=e&&void 0!=e){var n=JSON.parse(e);null!=a&&(a.innerHTML=n.clicks)}}var n=document.querySelector(".btn-add")||null,t=document.querySelector(".btn-delete")||null,a=document.querySelector("#click-nbr")||null,l=appUrl+"/api/:id/clicks";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",l,e)),null!=n&&n.addEventListener("click",function(){ajaxFunctions.ajaxRequest("POST",l,function(){ajaxFunctions.ajaxRequest("GET",l,e)})},!1),null!=t&&t.addEventListener("click",function(){ajaxFunctions.ajaxRequest("DELETE",l,function(){ajaxFunctions.ajaxRequest("GET",l,e)})},!1)}(),function(){"use strict";function e(){var e=["list-group-item-info","list-group-item-warning","list-group-item-danger","list-group-item-success"];return++r>0&&r<4?e[r]:(r=2,e[r])}function n(n){if(null!=n&&void 0!=n){var t=JSON.parse(n);if(console.log(t.data),null!=l){l.innerHTML="";for(var a=0;a<t.data.length;a++)l.innerHTML=l.innerHTML+'<li class="list-group-item '+e()+'"><input type="radio" value="?name='+t.data[a].name+'" name="radioData" id="radioData'+a+'">'+t.data[a].name+"</li>"}}}var t=document.querySelector("#adddata")||null,a=document.querySelector("#deldata")||null,l=document.querySelector("#list")||null,o=document.querySelector("#name")||null,i=appUrl+"/api/:id/info",u=-1,r=1;ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",i,n)),null!=t&&t.addEventListener("click",function(){var e="?name="+o.value;ajaxFunctions.ajaxRequest("POST",i+"add"+e,function(){ajaxFunctions.ajaxRequest("GET",i,n)})},!1),null!=a&&a.addEventListener("click",function(){var e=document.querySelector('input[name = "radioData"]:checked').value;ajaxFunctions.ajaxRequest("DELETE",i+"del"+e,function(){ajaxFunctions.ajaxRequest("GET",i,n)})},!1)}(),function(){"use strict";function e(e,n,t){n.innerHTML=e[t]}var n=document.querySelector("#photoId")||null,t=document.querySelector("#repo")||null,a=document.querySelector("#profile-id")||null,l=document.querySelector("#profile-username")||null,o=document.querySelector("#display-name")||null,i=appUrl+"/api/:id";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",i,function(i){var u=JSON.parse(i);null!==u.displayName?e(u,o,"displayName"):e(u,o,"username"),null!==a&&e(u,a,"id"),null!==l&&e(u,l,"username"),void 0!==u.publicRepos&&null!==t?null!==u.publicRepos&&(t.innerHTML='<p><span>Repositories: </span><span id="profile-repos" class="profile-value">'+u.publicRepos+"</span></p>"):void 0===u.publicRepos&&null!==t&&(t.innerHTML='<p><span>Repositories: </span><span id="profile-repos" class="profile-value">No Info!</span></p>'),void 0!==u.photo&&null!==n?null!==u.photo&&null!==n&&(n.innerHTML="<img src="+u.photo+' class = "img-rounded">'):void 0===u.photo&&null!==n&&(n.innerHTML='<img src="/public/img/gh-mark-32px.png" alt="github logo" />')}))}(),function(){"use strict";function e(e){null!=o&&("login"==e&&(o.innerHTML='<form action="/auth/local" method="post">\t<h3>LOGIN LOCAL USER</h3>\t<div class="form-group">\t<div>\t<label>Username:</label>\t<input type="text" name="username"class="form-control" placeholder="Username or Email"/><br/>\t</div>\t<div>\t<label>Password:</label>\t<input type="password" name="password" class="form-control" placeholder="Password"/>\t</div>\t</div>\t<br>\t<div class="form-group">\t<div>\t<input type="submit" class="btn btn-primary" value="Submit"/>\t</div>\t</div></form>'),"create"==e&&(o.innerHTML='<form action="/auth/localnew" method="post">\t<h3>CREATE LOCAL USER</h3>\t<div class="form-group">\t<div>\t<label>Username:</label>\t<input type="text" name="username"class="form-control" placeholder="Username or Email"/><br/>\t</div>\t<div>\t<label>Display Name:</label>\t<input type="text" name="display"class="form-control" placeholder="Display Name"/><br/>\t</div>\t<div>\t<label>Password:</label>\t<input type="password" name="password" class="form-control" placeholder="Password"/>\t</div>\t</div>\t<br>\t<div class="form-group">\t<div>\t<input type="submit" class="btn btn-primary" value="Submit"/>\t</div>\t</div></form>'),"reset"==e&&(o.innerHTML='<p>Only valid if your username is a valid email!</p><br> Username:<input type="text" name="name" id="resetusername" class="form-control" placeholder="Email"><br>  <button type="submit" class="btn btn-add btn-primary" id ="resetaction">Reset!</button>'))}function n(e){if(null!=e&&void 0!=e){var n=JSON.parse(e);null!=n.message&&void 0!=n.message&&(i.innerHTML='<div class="'+n.type+'"><h2>'+n.message+"</h2></div>")}}var t=document.querySelector("#login")||null,a=document.querySelector("#create")||null,l=document.querySelector("#reset")||null,o=document.querySelector("#authform")||null,i=document.querySelector("#message")||null,u=appUrl+"/auth/localnew";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",u,e("login"))),null!=t&&t.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",u,e("login"))},!1),null!=a&&a.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",u,e("create"))},!1),null!=l&&l.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",u,e("reset")),document.querySelector("#resetaction").addEventListener("click",function(){var t=document.querySelector("#resetusername").value;ajaxFunctions.ajaxRequest("POST",u+"reset?name="+t,function(){ajaxFunctions.ajaxRequest("GET",u+"message",n),ajaxFunctions.ajaxRequest("GET",u,e("login"))})})},!1)}();