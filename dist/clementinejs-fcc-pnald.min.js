/*! clementinejs-fcc-pnald 26-07-2017 */

var appUrl=window.location.origin,ajaxFunctions={ready:function(e){if("function"==typeof e)return"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},ajaxRequest:function(e,t,a){"use strict";var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&a(n.response)},n.open(e,t,!0),n.send()}};!function(){"use strict";function e(e){var t=JSON.parse(e);n.innerHTML=t.clicks}var t=document.querySelector(".btn-add"),a=document.querySelector(".btn-delete"),n=document.querySelector("#click-nbr"),o=appUrl+"/api/:id/clicks";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",o,e)),t.addEventListener("click",function(){ajaxFunctions.ajaxRequest("POST",o,function(){ajaxFunctions.ajaxRequest("GET",o,e)})},!1),a.addEventListener("click",function(){ajaxFunctions.ajaxRequest("DELETE",o,function(){ajaxFunctions.ajaxRequest("GET",o,e)})},!1)}(),function(){"use strict";function e(){var e=["list-group-item-info","list-group-item-warning","list-group-item-danger","list-group-item-success"];return++u>0&&u<4?e[u]:(u=2,e[u])}function t(t){var a=JSON.parse(t);console.log(a.data),o.innerHTML="";for(var n=0;n<a.data.length;n++)o.innerHTML=o.innerHTML+'<li class="list-group-item '+e()+'"><input type="radio" value="?name='+a.data[n].name+'" name="radioData" id="radioData'+n+'">'+a.data[n].name+"</li>"}var a=document.querySelector("#adddata"),n=document.querySelector("#deldata"),o=document.querySelector("#list"),i=document.querySelector("#name"),r=appUrl+"/api/:id/info",s=-1,u=1;ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",r,t)),a.addEventListener("click",function(){var e="?name="+i.value;ajaxFunctions.ajaxRequest("POST",r+"add"+e,function(){ajaxFunctions.ajaxRequest("GET",r,t)})},!1),n.addEventListener("click",function(){var e=document.querySelector('input[name = "radioData"]:checked').value;ajaxFunctions.ajaxRequest("DELETE",r+"del"+e,function(){ajaxFunctions.ajaxRequest("GET",r,t)})},!1)}(),function(){"use strict";function e(e,t,a){t.innerHTML=e[a]}var t=document.querySelector("#photoId")||null,a=document.querySelector("#repo")||null,n=document.querySelector("#profile-id")||null,o=document.querySelector("#profile-username")||null,i=document.querySelector("#display-name"),r=appUrl+"/api/:id";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",r,function(r){var s=JSON.parse(r);null!==s.displayName?e(s,i,"displayName"):e(s,i,"username"),null!==n&&e(s,n,"id"),null!==o&&e(s,o,"username"),void 0!==s.publicRepos&&null!==a?null!==s.publicRepos&&(a.innerHTML='<p><span>Repositories: </span><span id="profile-repos" class="profile-value">'+s.publicRepos+"</span></p>"):void 0===s.publicRepos&&null!==a&&(a.innerHTML='<p><span>Repositories: </span><span id="profile-repos" class="profile-value">No Info!</span></p>'),void 0!==s.photo&&null!==t?null!==s.photo&&null!==t&&(t.innerHTML="<img src="+s.photo+' class = "img-rounded">'):void 0===s.photo&&null!==t&&(t.innerHTML='<img src="/public/img/gh-mark-32px.png" alt="github logo" />')}))}(),function(){"use strict";function e(e){"login"==e&&(i.innerHTML='<form action="/auth/local" method="post">\t<h3>LOGIN LOCAL USER</h3>\t<div class="form-group">\t<div>\t<label>Username:</label>\t<input type="text" name="username"class="form-control" placeholder="Username or Email"/><br/>\t</div>\t<div>\t<label>Password:</label>\t<input type="password" name="password" class="form-control" placeholder="Password"/>\t</div>\t</div>\t<br>\t<div class="form-group">\t<div>\t<input type="submit" class="btn btn-primary" value="Submit"/>\t</div>\t</div></form>'),"create"==e&&(i.innerHTML='<form action="/auth/localnew" method="post">\t<h3>CREATE LOCAL USER</h3>\t<div class="form-group">\t<div>\t<label>Username:</label>\t<input type="text" name="username"class="form-control" placeholder="Username or Email"/><br/>\t</div>\t<div>\t<label>Display Name:</label>\t<input type="text" name="display"class="form-control" placeholder="Display Name"/><br/>\t</div>\t<div>\t<label>Password:</label>\t<input type="password" name="password" class="form-control" placeholder="Password"/>\t</div>\t</div>\t<br>\t<div class="form-group">\t<div>\t<input type="submit" class="btn btn-primary" value="Submit"/>\t</div>\t</div></form>'),"reset"==e&&(i.innerHTML='<p>Only valid if your username is a valid email!</p><br> Username:<input type="text" name="name" id="resetusername" class="form-control" placeholder="Email"><br>  <button type="submit" class="btn btn-add btn-primary" id ="resetaction">Reset!</button>')}function t(e){var t=JSON.parse(e);null!=t.message&&void 0!=t.message&&(r.innerHTML='<div class="'+t.type+'"><h2>'+t.message+"</h2></div>")}var a=document.querySelector("#login")||null,n=document.querySelector("#create")||null,o=document.querySelector("#reset")||null,i=document.querySelector("#authform")||null,r=document.querySelector("#message")||null,s=appUrl+"/auth/localnew";ajaxFunctions.ready(ajaxFunctions.ajaxRequest("GET",s,e("login"))),a.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",s,e("login"))},!1),n.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",s,e("create"))},!1),o.addEventListener("click",function(){ajaxFunctions.ajaxRequest("GET",s,e("reset")),document.querySelector("#resetaction").addEventListener("click",function(){var a=document.querySelector("#resetusername").value;ajaxFunctions.ajaxRequest("POST",s+"reset?name="+a,function(){ajaxFunctions.ajaxRequest("GET",s+"message",t),ajaxFunctions.ajaxRequest("GET",s,e("login"))})})},!1)}();